import{c as I}from"./alert-maf5A8O9.js";/* empty css              */window.addEventListener("load",()=>{let f=document.querySelectorAll("[data-btn-draw-del]");f.length&&f.forEach(o=>{o.addEventListener("click",l=>{const e=o.getAttribute("data-btn-draw-del");l.preventDefault(),I("Vous êtes sur le point de supprimer un tirage, êtes-vous sûr(e) ?","default",function(r){r?(console.log(r),axios.delete(e).then(function(n){n.data.status=="success"&&(window.location=n.data.redirectRoute)}).catch(function(n){console.log(n),Toast.danger("Il y a eu une erreur dans le processus de suppression du tirage, merci de réessayer après avoir rafraichi votre navigateur.")})):console.log("Suppression annulée !")})})});let m=document.querySelectorAll("[data-submit-position]"),i=document.getElementById("keywordsContainer");function h(){m.forEach(o=>{const l=i.getAttribute("data-submit-save-position"),e=JSON.parse(o.getAttribute("data-submit-position"));o.addEventListener("click",function(){let r=document.getElementById("position-"+e.position+"-keyword"),n=document.getElementById("position-"+e.position+"-icone");console.log(r,n),e.keywords=r.value,e.icone=n.value,console.log("drawId:",parseInt(e.drawId),"icone:",e.icone,"keywords:",e.keywords,"position:",parseInt(e.position)),axios.post(l,{drawId:parseInt(e.drawId),icone:e.icone,keywords:e.keywords,position:parseInt(e.position)}).then(function(a){a.data.success&&(console.log(a),Toast.success(a.data.success))}).catch(function(a){Toast.danger(a.response.data.message)})})})}if(m.length&&h(),i){let r=function(){return l.checked?parseInt(o.value)+1:parseInt(o.value)},n=function(){const t=window.location.href,c=/\/draw\/edit\/(\d+)/,d=t.match(c);return d?d[1]:null},a=function(t){for(let c=i.children.length;c<t;c++){const d=document.importNode(e,!0),u=i.children.length+1;d.querySelectorAll(".position-number").forEach(s=>{s.textContent=u}),d.querySelectorAll("input").forEach(s=>{s.name=s.name.replace("__index__",u),s.setAttribute("id",s.name.replace("__index__",u))}),d.querySelectorAll("button").forEach(s=>{let w=n(),y={position:u,drawId:w};s.setAttribute("data-submit-position",JSON.stringify(y))}),i.appendChild(d)}m=document.querySelectorAll("[data-submit-position]"),h()},g=function(t){for(;i.children.length>t;)i.removeChild(i.lastElementChild)},p=function(){let t=r(),c=document.querySelectorAll(".keyword-field");t<=c.length?g(t):a(t)},o=document.getElementById("totalSelectedCards"),l=document.getElementById("hasSumCards"),e=document.getElementById("keywordTemplate").content;o.addEventListener("change",function(){p()}),l.addEventListener("change",function(){p()}),p()}});
